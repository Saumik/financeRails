<%=  render 'common/left_bar' %>
<table>
    <tr><td id="main_form">
        <%= render :partial => 'form' %>
    </td></tr>
</table>
<div id="line_items_list">
    <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered" id="lineitems">
        <thead>
            <tr>
                <th align="left" width="100">Type</th>
                <th align="left" width="100">Event Date</th>
                <th align="left" width="100">Amount</th>
                <th align="left">Payee</th>
                <th align="left">Category</th>
                <th align="left" width="100">Balance</th>
                <th align="left" width="100">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td colspan="5" class="dataTables_empty">Loading data from server</td>
            </tr>
        </tbody>
    </table>
    <script language="JavaScript" type="text/javascript">

        $(document).ready(function() {
            $('#lineitems').dataTable( {
                "bProcessing": true,
                "bServerSide": true,
                "sAjaxSource": '<%= url_for(:controller => :line_items, :action => :get_line_items_data_table) %>',
                "bSort" : false,
                "iDisplayLength": 20,
                "aoColumns": [
                    { "mDataProp": "type" },
                    { "mDataProp": "event_date" },
                    { "mDataProp": "amount" },
                    { "mDataProp": "payee_name" },
                    { "mDataProp": "category_name" },
                    { "mDataProp": "balance" },
                    { "mDataProp": "links" }
                ],
                // Changes for twitter bootstrap support
                "sDom": "<'row'<'span8'l><'span8'f>r>t<'row'<'span8'i><'span8'p>>",
                "sWrapper": "dataTables_wrapper form-inline",
                "sPaginationType": "bootstrap",
                "oLanguage": {
                    "sLengthMenu": "_MENU_ Records per page"
                }
            } );
        } );
    </script>
</div>